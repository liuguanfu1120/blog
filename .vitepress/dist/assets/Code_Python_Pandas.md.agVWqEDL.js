import{_ as s,o as a,c as i,R as e}from"./chunks/framework.NgETwM1V.js";const y=JSON.parse('{"title":"Pandas tips","description":"","frontmatter":{"prev":{"text":"More tips about Matplotlib","link":"/Code/Python/Matplotlib"},"next":{"text":"Numpy tips","link":"/Code/Python/Numpy"}},"headers":[],"relativePath":"Code/Python/Pandas.md","filePath":"Code/Python/Pandas.md"}'),n={name:"Code/Python/Pandas.md"},t=e(`<h1 id="pandas-tips" tabindex="-1">Pandas tips <a class="header-anchor" href="#pandas-tips" aria-label="Permalink to &quot;Pandas tips&quot;">​</a></h1><h2 id="read-data" tabindex="-1">Read data <a class="header-anchor" href="#read-data" aria-label="Permalink to &quot;Read data&quot;">​</a></h2><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pandas </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">yield_file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Nomoto2013.dat&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">colspecs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># A list of tuples giving the extents of the fixed-width fields of each line as half-open intervals (i.e., [from, to[ ).</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># For Nomoto et al. (2013), the colspecs is as follows:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 14, 13, 13, 13, ......, 13, 11+1(&#39;\\n&#39;),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">31</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        colspecs.append((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        colspecs.append((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">i))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">df </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pd.read_fwf(yield_file, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">colspecs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">colspecs, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">skiprows</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">nrows</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">172</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>There are many methods to read files, such as <code>read_csv</code>, <code>read_table</code>, <code>read_fwf</code>, etc. The <code>read_fwf</code> is used here because the data is in fixed-width format (fwf). For fixed-width format file, the <code>colspecs</code> is needed to be specified. The <code>skiprows</code> is used to skip the header, and <code>nrows</code> is used to specify the number of rows to read. The file <code>Nomoto2013.dat</code> can be downloaded at <a href="http://star.herts.ac.uk/~chiaki/works/YIELD_CK13.DAT" target="_blank" rel="noreferrer">Yield Table (2013)</a>.</p><p>Reading a fixed-width format file sometimes can be tricky or not as straightforward as a CSV file, and hence an example is given here.</p><h2 id="add-data" tabindex="-1">Add data <a class="header-anchor" href="#add-data" aria-label="Permalink to &quot;Add data&quot;">​</a></h2><p>The data can be downloade at <a href="https://github.com/liuguanfu1120/blog/blob/main/Code/Python/Python-data/spex-abundance.csv" target="_blank" rel="noreferrer">Solar Abundance Sets in SPEX</a>, which comes from <a href="https://spex-xray.github.io/spex-help/reference/commands/abundance.html" target="_blank" rel="noreferrer">Abundance: standard abundances</a>.</p><div class="language-python vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="delete-data" tabindex="-1">Delete data <a class="header-anchor" href="#delete-data" aria-label="Permalink to &quot;Delete data&quot;">​</a></h2><h2 id="search-data" tabindex="-1">Search data <a class="header-anchor" href="#search-data" aria-label="Permalink to &quot;Search data&quot;">​</a></h2><h2 id="modify-data" tabindex="-1">Modify data <a class="header-anchor" href="#modify-data" aria-label="Permalink to &quot;Modify data&quot;">​</a></h2>`,11),h=[t];function l(p,d,r,k,o,c){return a(),i("div",null,h)}const g=s(n,[["render",l]]);export{y as __pageData,g as default};
