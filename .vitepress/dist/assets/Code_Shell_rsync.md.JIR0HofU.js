import{_ as s,o as e,c as i,R as a}from"./chunks/framework.NgETwM1V.js";const m=JSON.parse('{"title":"Copy specified files","description":"","frontmatter":{"prev":{"text":"Caveats on tee","link":"/Code/Shell/tee"},"next":false},"headers":[],"relativePath":"Code/Shell/rsync.md","filePath":"Code/Shell/rsync.md"}'),n={name:"Code/Shell/rsync.md"},t=a(`<h1 id="copy-specified-files" tabindex="-1">Copy specified files <a class="header-anchor" href="#copy-specified-files" aria-label="Permalink to &quot;Copy specified files&quot;">​</a></h1><h2 id="a-simple-example" tabindex="-1">A simple example <a class="header-anchor" href="#a-simple-example" aria-label="Permalink to &quot;A simple example&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rsync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -av</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --include=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file1,file2}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --exclude=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> source_directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> destination_directory</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol><li>It is not &quot;includes&quot; and it cannot be &quot;{file1,file2}&quot;. Double quotation mark means patterns in rsync, and hence it should be exclude=&quot;*&quot; and exclude=* does not work.</li><li>You must use exclude=&quot;*&quot;, include first, and exclude second. It will copy all the files under the source director, not only the specified file1 and file2, if you leave out exclude&quot;*&quot;.</li></ol><h2 id="the-names-of-files-in-a-text-file" tabindex="-1">The names of files in a text file <a class="header-anchor" href="#the-names-of-files-in-a-text-file" aria-label="Permalink to &quot;The names of files in a text file&quot;">​</a></h2><p>If the filenames, such as file1, file2, etc., is stored in a text file like &quot;filenames.text&quot;:</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>file1</span></span>
<span class="line"><span>file2</span></span>
<span class="line"><span>file3</span></span>
<span class="line"><span>file4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Note that it must be <strong>one filename in one single line</strong>. If you filename.txt reads:</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>file1 file2 file3 file4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Filenames are separated by spaces. You must modify it to make it one line for one filename. You can use <strong>tr</strong> command:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39; &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;\\n&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filenames.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filenames1.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filenames1.txt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filenames.txt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>&quot;-s&quot; means &quot;squeeze&quot; and it will replace multiple spaces by one single break line symbol. Similarly, if your filenames file is separated by tab:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;\\t&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;\\n&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filenames.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filenames1.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filenames1.txt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filenames.txt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Finally, use rsync like the following example:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rsync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -av</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --files-from=filenames.txt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> source_directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> destination_directory</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,15),l=[t];function p(h,r,d,o,c,k){return e(),i("div",null,l)}const F=s(n,[["render",p]]);export{m as __pageData,F as default};
